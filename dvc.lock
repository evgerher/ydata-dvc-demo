schema: '2.0'
stages:
  featurize:
    cmd: python ml_project/train.py featurize --data_folder data/raw --output_folder
      data/processed
    deps:
    - path: data/raw/test.csv
      md5: 2e3f64b2fdd4304520274e9d8b6d5574
      size: 575796
    - path: data/raw/train.csv
      md5: 6002a1e47e806bfb32dc8ec1d58d7bfe
      size: 1068341
    - path: ml_project/train.py
      md5: b3eafcedf172681ce9966650a3a2f7fb
      size: 5878
    params:
      params.yaml:
        feature_params:
          categorical_policy: ohe
          numerical_policy: identity
          date_column: datetime
          extra_features_enabled: true
          categorical_features:
          - season
          - weather
          - workingday
          - holiday
          numerical_features:
          - temp
          - atemp
          - windspeed
          - humidity
          target_col: count
        splitting_params:
          val_size: 0.2
          random_state: 190
    outs:
    - path: data/processed/test.pkl
      md5: 88b89d28797e4f353d9119f9b153dd00
      size: 1195345
    - path: data/processed/train.pkl
      md5: e7630928e70bc5c6925435a56af298ff
      size: 1882006
    - path: data/processed/transformer.pkl
      md5: 5c3e2c4ce3b9b772c8027766f7656f12
      size: 2719
    - path: data/processed/val.pkl
      md5: 910f23e0c875f21096784efb5b9e01f4
      size: 471499
  train:
    cmd: python ml_project/train.py train_model --data_folder data/processed
    deps:
    - path: data/processed/test.pkl
      md5: 88b89d28797e4f353d9119f9b153dd00
      size: 1195345
    - path: data/processed/train.pkl
      md5: e7630928e70bc5c6925435a56af298ff
      size: 1882006
    - path: data/processed/transformer.pkl
      md5: 5c3e2c4ce3b9b772c8027766f7656f12
      size: 2719
    - path: data/processed/val.pkl
      md5: 910f23e0c875f21096784efb5b9e01f4
      size: 471499
    - path: ml_project/train.py
      md5: b3eafcedf172681ce9966650a3a2f7fb
      size: 5878
    params:
      params.yaml:
        output_model_path: artifacts/model.pkl
        test_predictions_path: artifacts/preds.pkl
        train_params:
          model_type: catboost
          random_state: 190
          kwargs:
            iterations: 10
    outs:
    - path: artifacts/model.pkl
      md5: 14bd4be73de5862c9e65eb5da4edd03e
      size: 21519
