schema: '2.0'
stages:
  featurize:
    cmd: python ml_project/train.py featurize --data_folder data/raw --output_folder
      data/processed
    deps:
    - path: data/raw/test.csv
      md5: 2e3f64b2fdd4304520274e9d8b6d5574
      size: 575796
    - path: data/raw/train.csv
      md5: 6002a1e47e806bfb32dc8ec1d58d7bfe
      size: 1068341
    - path: ml_project/train.py
      md5: b3eafcedf172681ce9966650a3a2f7fb
      size: 5878
    params:
      params.yaml:
        feature_params:
          categorical_policy: ohe
          numerical_policy: identity
          date_column: datetime
          extra_features_enabled: true
          categorical_features:
          - season
          - weather
          - workingday
          - holiday
          numerical_features:
          - temp
          - atemp
          - windspeed
          - humidity
          target_col: count
        splitting_params:
          val_size: 0.3
          random_state: 42
    outs:
    - path: data/processed/test.pkl
      md5: 88b89d28797e4f353d9119f9b153dd00
      size: 1195345
    - path: data/processed/train.pkl
      md5: 110efcb71c61e932c9d86e5a728459dd
      size: 1646980
    - path: data/processed/transformer.pkl
      md5: 15b8f9f8c00e00bc45aa7ab3f1541712
      size: 2719
    - path: data/processed/val.pkl
      md5: 7a43900ddabfe6e58457381c3d2d8113
      size: 706507
  train:
    cmd: python ml_project/train.py train_model --data_folder data/processed
    deps:
    - path: data/processed/test.pkl
      md5: 88b89d28797e4f353d9119f9b153dd00
      size: 1195345
    - path: data/processed/train.pkl
      md5: 110efcb71c61e932c9d86e5a728459dd
      size: 1646980
    - path: data/processed/transformer.pkl
      md5: 15b8f9f8c00e00bc45aa7ab3f1541712
      size: 2719
    - path: data/processed/val.pkl
      md5: 7a43900ddabfe6e58457381c3d2d8113
      size: 706507
    - path: ml_project/train.py
      md5: b3eafcedf172681ce9966650a3a2f7fb
      size: 5878
    params:
      params.yaml:
        output_model_path: artifacts/model.pkl
        test_predictions_path: artifacts/preds.pkl
        train_params:
          model_type: random_guesser
          random_state: 42
          kwargs:
            low: 110
            high: 150
    outs:
    - path: artifacts/model.pkl
      md5: 23f06190d7f667a37ac3726779f98a8c
      size: 6779
